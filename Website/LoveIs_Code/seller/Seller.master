<%@ Master Language="C#" AutoEventWireup="true" CodeFile="Seller.master.cs" Inherits="SellerMaster" %>
<!DOCTYPE html>
<html lang="vi" dir="ltr">
<head runat="server">
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
        <asp:ContentPlaceHolder ID="TitleContent" runat="server"></asp:ContentPlaceHolder> | Kênh người bán
    </title>
    <link rel="shortcut icon" href="<%= ResolveUrl("~/images/fav.png") %>" />
    <link rel="stylesheet" href="<%= ResolveUrl("~/public/theme/assets/css/bootstrap.min.css") %>" />
    <link rel="stylesheet" href="<%= ResolveUrl("~/public/assets/vendor/fontawesome/css/all.min.css") %>" />
    <link rel="stylesheet" href="<%= ResolveUrl("~/seller/portal.css") %>" />
</head>
<body>
    <form id="form1" runat="server" enctype="multipart/form-data">
        <div class="seller-shell">
            <header class="seller-topbar">
                <div class="left">
                    <asp:Image ID="LogoImage" CssClass="logo" runat="server" AlternateText="LOVEis" />
                    <span>Kênh người bán</span>
                    <span class="opacity-75">|</span>
                    <i class="fa-solid fa-house"></i>
                    <span>Dashboard</span>
                </div>
                <div class="d-flex align-items-center gap-3">
                    <i class="fa-solid fa-grid-2"></i>
                    <div><i class="fa-regular fa-bell"></i><span class="badge-dot">24</span></div>
                    <i class="fa-solid fa-gift"></i>
                    <div class="d-flex align-items-center gap-2">
                        <i class="fa-regular fa-circle-user"></i>
                        <asp:Literal ID="SellerNameLiteral" runat="server" />
                        <i class="fa-solid fa-angle-down"></i>
                    </div>
                </div>
            </header>
            <aside class="seller-sidebar">
                <ul class="seller-nav">
                    <asp:Repeater ID="SellerMenuRepeater" runat="server">
                        <ItemTemplate>
                            <li class="menu-item <%# ((System.Collections.Generic.List<SellerMenuItem>)Eval("Children")).Count > 0 ? "has-children" : "" %> <%# (bool)Eval("IsOpen") ? "open" : "" %> <%# (bool)Eval("IsActive") ? "active" : "" %>">
                                <button class="menu-button" type="button">
                                    <span>
                                        <%# string.IsNullOrWhiteSpace((string)Eval("Icon")) ? "" : "<i class='" + Eval("Icon") + "'></i>" %>
                                        <%# Eval("MenuName") %>
                                    </span>
                                    <i class="fa-solid fa-angle-down"></i>
                                </button>
                                <asp:PlaceHolder ID="ChildMenuWrap" runat="server" Visible='<%# ((System.Collections.Generic.List<SellerMenuItem>)Eval("Children")).Count > 0 %>'>
                                    <ul class="submenu">
                                        <asp:Repeater ID="ChildMenuRepeater" runat="server" DataSource='<%# Eval("Children") %>'>
                                            <ItemTemplate>
                                                <li>
                                                    <a href="<%# Eval("Url") %>" class="<%# (bool)Eval("IsActive") ? "active" : "" %>"><%# Eval("MenuName") %></a>
                                                </li>
                                            </ItemTemplate>
                                        </asp:Repeater>
                                    </ul>
                                </asp:PlaceHolder>
                            </li>
                        </ItemTemplate>
                    </asp:Repeater>
                </ul>
            </aside>
            <section class="seller-content">
                <asp:ContentPlaceHolder ID="MainContent" runat="server"></asp:ContentPlaceHolder>
            </section>
        </div>
    </form>
    <script>
        document.querySelectorAll(".menu-item.has-children > .menu-button").forEach(function (btn) {
            btn.addEventListener("click", function () {
                var parent = btn.closest(".menu-item");
                if (!parent) return;
                document.querySelectorAll(".menu-item.open").forEach(function (item) {
                    if (item !== parent) {
                        item.classList.remove("open");
                    }
                });
                parent.classList.toggle("open");
            });
        });
    </script>
</body>
</html>
